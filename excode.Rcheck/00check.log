* using log directory 'S:/Projekte/Abt3_DeMoMo/Publikationen/excode/excode/excode.Rcheck'
* using R version 4.4.1 (2024-06-14 ucrt)
* using platform: x86_64-w64-mingw32
* R was compiled by
    gcc.exe (GCC) 13.2.0
    GNU Fortran (GCC) 13.2.0
* running under: Windows 10 x64 (build 19045)
* using session charset: UTF-8
* using options '--no-manual --as-cran'
* checking for file 'excode/DESCRIPTION' ... OK
* this is package 'excode' version '0.0.0.9000'
* package encoding: UTF-8
* checking package namespace information ... OK
* checking package dependencies ... OK
* checking if this is a source package ... OK
* checking if there is a namespace ... OK
* checking for executable files ... OK
* checking for hidden files and directories ... OK
* checking for portable file names ... OK
* checking whether package 'excode' can be installed ... [16s] OK
* checking installed package size ... OK
* checking package directory ... OK
* checking for future file timestamps ... NOTE
unable to verify current time
* checking 'build' directory ... OK
* checking DESCRIPTION meta-information ... NOTE
Packages listed in more than one of Depends, Imports, Suggests, Enhances:
  'dplyr' 'ggplot2'
A package should be listed in only one of these fields.
* checking top-level files ... OK
* checking for left-over files ... OK
* checking index information ... OK
* checking package subdirectories ... OK
* checking code files for non-ASCII characters ... WARNING
Found the following file with non-ASCII characters:
  R/run_excode.R
Portable packages must use only ASCII characters in their R code and
NAMESPACE directives, except perhaps in comments.
Use \uxxxx escapes for other characters.
Function 'tools::showNonASCIIfile' can help in finding non-ASCII
characters in files.
* checking R files for syntax errors ... OK
* checking whether the package can be loaded ... OK
* checking whether the package can be loaded with stated dependencies ... OK
* checking whether the package can be unloaded cleanly ... OK
* checking whether the namespace can be loaded with stated dependencies ... OK
* checking whether the namespace can be unloaded cleanly ... OK
* checking loading without being on the library search path ... OK
* checking dependencies in R code ... OK
* checking S3 generic/method consistency ... OK
* checking replacement functions ... OK
* checking foreign function calls ... OK
* checking R code for possible problems ... [16s] NOTE
add_splines: no visible global function definition for 'left_join'
plot_excode_summary: no visible binding for global variable 'value'
plot_excode_summary: no visible binding for global variable 'series'
plot_excode_summary: no visible binding for global variable
  'posterior0'
plot_excode_summary: no visible binding for global variable
  'excess_prob'
plot_excode_summary: no visible binding for global variable 'zscore'
plot_excode_summary: no visible binding for global variable
  'ymin_zscore'
plot_excode_summary: no visible binding for global variable
  'ymax_zscore'
plot_excode_summary: no visible binding for global variable 'pval'
plot_excode_summary: no visible binding for global variable 'logp'
plot_excode_summary: no visible binding for global variable 'prob'
plot_excode_summary: no visible binding for global variable 'pval_bin'
plot_excode_summary: no visible binding for global variable 'group'
Undefined global functions or variables:
  excess_prob group left_join logp posterior0 prob pval pval_bin series
  value ymax_zscore ymin_zscore zscore
* checking Rd files ... OK
* checking Rd metadata ... OK
* checking Rd line widths ... OK
* checking Rd cross-references ... OK
* checking for missing documentation entries ... OK
* checking for code/documentation mismatches ... WARNING
S4 class codoc mismatches from Rd file 'Emission-class.Rd':
Slots für Klasse 'Emission'
  Code: excode_formula glm mu mu0 mu1 name
  Docs: mu mu0 mu1 name

S4 class codoc mismatches from Rd file 'excodeModel-class.Rd':
Slots für Klasse 'excodeModel'
  Code: AIC BIC LogLik alpha converged date emission error id
        initial_prob loglik_transitions nStates niter observed
        population posterior prior_weights pval setBckgState timepoint
        timepoint_fit transitions transitions_prior zscore
  Docs: AIC BIC LogLik alpha converged date emission error id
        initial_prob loglik_transitions nStates niter observed
        population posterior prior_weights pval setBckgState timepoint
        timepoint_fit transitions transitions_prior

S4 class codoc mismatches from Rd file 'excodeFormula-class.Rd':
Slots für Klasse 'excodeFormula'
  Code: coefficients failed_optim intercept name params shared_params
        time_trend
  Docs: coefficients failed_optim intercept name shared_params

* checking Rd \usage sections ... WARNING
Undocumented arguments in Rd file 'excodeFormula.Rd'
  'surv_ts'
Documented arguments not in \usage in Rd file 'excodeFormula.Rd':
  'df_season' 'df_trend'

Undocumented arguments in Rd file 'init_excode.Rd'
  'covariate_df' 'set_baseline_state'
Documented arguments not in \usage in Rd file 'init_excode.Rd':
  'init_baseline_state'

Undocumented arguments in Rd file 'run_excode.Rd'
  'distribution' 'states' 'time_trend' 'periodic_model' 'period_length'
  'intercept' 'covariate_df' 'weights_threshold'
  'weights_threshold_baseline' 'set_baseline_state'
Documented arguments not in \usage in Rd file 'run_excode.Rd':
  'excode_model'

Undocumented arguments in Rd file 'summary-excodeModel-method.Rd'
  'anscombe_threshold'

Functions with \usage entries need to have the appropriate \alias
entries, and all their arguments documented.
The \usage entries must correspond to syntactically valid R code.
See chapter 'Writing R documentation files' in the 'Writing R
Extensions' manual.
* checking Rd contents ... OK
* checking for unstated dependencies in examples ... OK
* checking contents of 'data' directory ... OK
* checking data for non-ASCII characters ... OK
* checking LazyData ... OK
* checking data for ASCII and uncompressed saves ... OK
* checking R/sysdata.rda ... OK
* checking installed files from 'inst/doc' ... OK
* checking files in 'vignettes' ... OK
* checking examples ... ERROR
Running examples in 'excode-Ex.R' failed
The error most likely occurred in:

> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: run_excode
> ### Title: Detect Excess Counts in Epidemiological Time Series
> ### Aliases: run_excode
> 
> ### ** Examples
> 
> # Create a Poisson harmonic model
> excode_family_pois <- excodeFamily("Poisson")
> excode_formula_har <- excodeFormula("Harmonic")
> excode_har_pois <- excodeModel(excode_family_pois, excode_formula_har)
> 
> # Example: data.frame as input
> data(shadar_df)
> result_shadar_har <- run_excode(excode_har_pois, shadar_df, 209:295)
Error in `$<-`(`*tmp*`, id, value = "ts1") : 
  no method for assigning subsets of this S4 class
Calls: run_excode
Execution halted
* checking for unstated dependencies in vignettes ... OK
* checking package vignettes ... OK
* checking re-building of vignette outputs ... [28s] OK
* checking for non-standard things in the check directory ... OK
* checking for detritus in the temp directory ... OK
* DONE
Status: 1 ERROR, 3 WARNINGs, 3 NOTEs
